(this["webpackJsonpmovies-db"]=this["webpackJsonpmovies-db"]||[]).push([[0],{51:function(e,t,a){e.exports=a.p+"static/media/default.2de4040a.png"},55:function(e,t,a){e.exports=a.p+"static/media/logo.b753c4c3.svg"},63:function(e,t,a){e.exports=a(83)},68:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),i=a.n(s),c=(a(68),a(6)),o=a.n(c),l=a(12),u=a(17),h=a(18),d=a(8),m=a(21),p=a(20),v=(a(70),a(71),a(72),a(73),a(93)),f=a(94),b=a(92),g=(a(74),a(91)),y=a(53),k=a(54),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSearch=n.handleSearch.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"handleSearch",value:function(e){e.preventDefault();var t=e.target.elements.searchBox.value;e.target.elements.searchBox.value="",this.props.onQuery(t)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{inline:!0,onSubmit:this.handleSearch},r.a.createElement(y.a,{type:"text",placeholder:"Search",className:"mr-sm-2 width-auto",name:"searchBox",minLength:"2",required:!0}),r.a.createElement(k.a,{className:"btn",type:"submit"},"Search")))}}]),a}(r.a.Component),w=a(55),j=a.n(w),x=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={genres:[],actors:[]},n.handleQuery=n.handleQuery.bind(Object(d.a)(n)),n.handleGenre=n.handleGenre.bind(Object(d.a)(n)),n.handleActor=n.handleActor.bind(Object(d.a)(n)),n.goHome=n.goHome.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchGenres(),this.fetchActors()}},{key:"fetchGenres",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL("https://api.themoviedb.org/3/genre/movie/list"),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US"},t.search=new URLSearchParams(a).toString(),e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,this.setState({genres:r.genres});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchActors",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL("https://api.themoviedb.org/3/person/popular"),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US"},t.search=new URLSearchParams(a).toString(),e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,this.setState({actors:r.results});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleQuery",value:function(e){this.props.onQuery(e)}},{key:"handleGenre",value:function(e){this.props.onGenre(e)}},{key:"handleActor",value:function(e){this.props.onActor(e)}},{key:"goHome",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onGoHome()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",className:"has-shadow"},r.a.createElement("div",{className:"container"},r.a.createElement(v.a.Brand,{href:"#",onClick:this.goHome},r.a.createElement("img",{alt:"",src:j.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","MoviesDB"),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(b.a,{title:"Genre"},this.state.genres.map((function(t){return r.a.createElement(b.a.Item,{onClick:function(){return e.handleGenre(t.id)},key:t.id},t.name)}))),r.a.createElement(b.a,{title:"Actors"},this.state.actors.map((function(t){return r.a.createElement(b.a.Item,{onClick:function(){return e.handleActor(t.id)},key:t.id},t.name)})))),r.a.createElement(E,{onQuery:this.handleQuery})))))}}]),a}(r.a.Component),O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleQuery=n.handleQuery.bind(Object(d.a)(n)),n.handleGenre=n.handleGenre.bind(Object(d.a)(n)),n.handleActor=n.handleActor.bind(Object(d.a)(n)),n.goHome=n.goHome.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"handleQuery",value:function(e){this.props.onQuery(e)}},{key:"handleGenre",value:function(e){this.props.onGenre(e)}},{key:"handleActor",value:function(e){this.props.onActor(e)}},{key:"goHome",value:function(){this.props.onGoHome()}},{key:"render",value:function(){return r.a.createElement(x,{onQuery:this.handleQuery,onGenre:this.handleGenre,onActor:this.handleActor,onGoHome:this.goHome})}}]),a}(r.a.Component),S=a(88),M=a(95),_=a(90),G=(a(79),a(51)),A=a.n(G),U=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:[],selectedMovie:null},n.hideDetails=n.hideDetails.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"showDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isFetching:!0});case 2:return a=new URL("https://api.themoviedb.org/3/movie/".concat(t)),n={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US"},a.search=new URLSearchParams(n).toString(),e.next=7,fetch(a);case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,this.setState({selectedMovie:s});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hideDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectedMovie:null});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement(S.a,null,this.state.data.map((function(t,a){return r.a.createElement(M.a,{key:t.id,style:{order:+(a+1)},bg:"dark",text:"white",border:"dark",onClick:function(){return e.showDetails(t.id)},className:"handCursor"},r.a.createElement(M.a.Img,{variant:"top",src:t.poster_path?"https://image.tmdb.org/t/p/w342/"+t.poster_path:A.a}),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,t.title),r.a.createElement(M.a.Text,null,t.overview)),r.a.createElement(M.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"Rating ",r.a.createElement("b",null,t.vote_average)),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted"},"Release ",r.a.createElement("b",null,t.release_date?"".concat(t.release_date.slice(0,4)):"".concat(t.first_air_date)))))}))),0===this.state.data.length&&r.a.createElement("h1",null,"No Result! ",r.a.createElement("span",{role:"img","aria-label":"Emoji"},"\u2639\ufe0f")))),this.state.selectedMovie&&r.a.createElement(_.a,{show:!0,onHide:this.hideDetails,centered:!0},r.a.createElement(M.a,{bg:"dark",text:"white",border:"dark"},r.a.createElement(M.a.Img,{variant:"top",src:this.state.selectedMovie.poster_path?"https://image.tmdb.org/t/p/w342/"+this.state.selectedMovie.poster_path:A.a}),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,this.state.selectedMovie.title),r.a.createElement(M.a.Text,null,this.state.selectedMovie.overview)),r.a.createElement(M.a.Body,null,r.a.createElement("div",{className:"btn"},r.a.createElement(k.a,{href:this.state.selectedMovie.homepage,target:"_blank",variant:"danger",size:"lg"},"movie page"),r.a.createElement(k.a,{onClick:this.hideDetails,variant:"danger",size:"lg"},"Homepage"))),r.a.createElement(M.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"Rating ",r.a.createElement("b",null,this.state.selectedMovie.vote_average)),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted"},"Release ",r.a.createElement("b",null,this.state.selectedMovie.release_date.slice(0,4)))))))}}]),a}(r.a.Component);a(80);var F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link",href:"https://github.com",target:"_blank",rel:"noopener noreferrer"},"Github")),r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link",href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer"},"Facebook")),r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link",href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer"},"Twitter"))),r.a.createElement("small",null,"Abdulrahman Maher \xa9 2020"))))},N=(a(81),a(89));var R=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement(N.a,{animation:"grow",variant:"danger"}),r.a.createElement(N.a,{animation:"grow",variant:"danger"}),r.a.createElement(N.a,{animation:"grow",variant:"danger"}))},H=a(58),Q=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:[],page:1,query:"",genreId:0,actorId:0,fetchingMethod:n.listMovies,isFetching:!1},n.handleQuery=n.handleQuery.bind(Object(d.a)(n)),n.handleGenre=n.handleGenre.bind(Object(d.a)(n)),n.handleActor=n.handleActor.bind(Object(d.a)(n)),n.listMovies=n.listMovies.bind(Object(d.a)(n)),n.searchMovies=n.searchMovies.bind(Object(d.a)(n)),n.handleScroll=n.handleScroll.bind(Object(d.a)(n)),n.listActorMovies=n.listActorMovies.bind(Object(d.a)(n)),n.listMoviesWithGenre=n.listMoviesWithGenre.bind(Object(d.a)(n)),n.goHome=n.goHome.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.listMovies()}},{key:"listMovies",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isFetching:!0});case 2:return t=new URL("https://api.themoviedb.org/3/discover/movie"),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US",sort_by:"popularity.desc",include_adult:!1,page:this.state.page},t.search=new URLSearchParams(a).toString(),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,this.state.data=this.state.data.concat(r.results),e.next=14,this.setState({data:this.state.data,isFetching:!1,fetchingMethod:this.listMovies});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isFetching:!0});case 2:return t=new URL("https://api.themoviedb.org/3/search/movie"),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US",sort_by:"popularity.desc",include_adult:!1,page:this.state.page,query:this.state.query},t.search=new URLSearchParams(a).toString(),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,this.state.data=this.state.data.concat(r.results),e.next=14,this.setState({data:this.state.data,isFetching:!1,fetchingMethod:this.searchMovies});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listActorMovies",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isFetching:!0});case 2:return t=new URL("https://api.themoviedb.org/3/person/".concat(this.state.actorId,"/movie_credits")),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US",sort_by:"popularity.desc",include_adult:!1,page:this.state.page},t.search=new URLSearchParams(a).toString(),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,this.state.data=r.cast,e.next=14,this.setState({data:this.state.data,isFetching:!1,fetchingMethod:this.listActorMovies});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listMoviesWithGenre",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isFetching:!0});case 2:return t=new URL("https://api.themoviedb.org/3/discover/movie"),a={api_key:"f8178ac917f687379b47ab8562bbd9b8",language:"en-US",sort_by:"popularity.desc",include_adult:!1,page:this.state.page,with_genres:this.state.genreId},t.search=new URLSearchParams(a).toString(),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,this.state.data=this.state.data.concat(r.results),e.next=14,this.setState({data:this.state.data,isFetching:!1,fetchingMethod:this.listMoviesWithGenre});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleQuery",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({query:t,page:1,data:[]});case 2:window.scrollTo(0,0),this.searchMovies();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleGenre",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({genreId:t,page:1,data:[]});case 2:window.scrollTo(0,0),this.listMoviesWithGenre();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleActor",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({actorId:t,page:1,data:[]});case 2:window.scrollTo(0,0),this.listActorMovies();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScroll",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({page:this.state.page+1});case 2:this.state.fetchingMethod();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goHome",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({page:1,data:[]});case 2:window.scrollTo(0,0),this.listMovies();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{onQuery:this.handleQuery,onGenre:this.handleGenre,onActor:this.handleActor,onGoHome:this.goHome}),r.a.createElement(U,{data:this.state.data}),r.a.createElement(F,null),this.state.isFetching&&r.a.createElement(R,null),r.a.createElement(H.a,{onBottom:this.handleScroll}))}}]),a}(r.a.Component);i.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.9fcf30ad.chunk.js.map